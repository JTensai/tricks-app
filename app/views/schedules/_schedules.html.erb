<%= hidden_field_tag :direction, params[:direction] %>
<%= hidden_field_tag :sort, params[:sort] %>

<table class="schedules">
  <tr>
    <th>Level</th>
    <th><%= sortable "day" %></th>
    <th><%= sortable "time" %></th>
    <th><%= sortable "teacher" %></th>
    <th><%= sortable "location" %></th>
    <th>Price</th>
    <th>Length</th>
    <th>Age</th>
    <th>Gender</th>
    <th></th>
    <th></th>
  </tr>

<% if can? :manage, Schedule %>
    <% @schedules.each do |schedule| %>
      <tr>
        <td style="width: 180px;"><%= schedule.level.levelname %></td>
        <td><%= schedule.day %></td>
        <td><%= schedule.time %></td>
        <td style="width: 120px;"><%= schedule.teacher %></td>
        <td style="width: 80px;"><%= schedule.location %></td>
        <td><%= schedule.level.price %>$</td>
        <td><%= schedule.level.length %> min</td>
        <td><%= schedule.level.age %></td>
        <td><%= schedule.gender %></td>
        <td style="padding: 0px 3px 0px 3px; border: 0"><%= link_to 'Edit', edit_schedule_path(schedule) %></td>
        <td style="padding: 0px 3px 0px 3px; border: 0"><%= link_to 'Destroy', schedule, confirm: 'Are you sure?', method: :delete %></td>
      </tr>
    <% end %>
<% else %>
    <% @schedules.each do |schedule| %>
    
      <tr>
        <td style="width: 180px;"><%= schedule.level.levelname %></td>
        <td><%= schedule.day %></td>
        <td><%= schedule.time %></td>
        <td style="width: 120px;"><%= schedule.teacher %></td>
        <td style="width: 80px;"><%= schedule.location %></td>
        <td><%= schedule.level.price %>$</td>
        <td><%= schedule.level.length %> min</td>
        <td><%= schedule.level.age %></td>
        <td><%= schedule.gender %></td>
      </tr>
    <% end %>
<% end %>
</table>


<br />
<div style="text-align:center">
  <%= will_paginate @schedules%>
</div>